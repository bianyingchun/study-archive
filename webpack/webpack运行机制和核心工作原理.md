1. 运行机制
   那这里我们先来快速理解一下 Webpack 打包的核心工作过程。我们以一个普通的前端项目为例，项目中一般都会散落着各种各样的代码及资源文件，比如 JS、CSS、图片、字体等，这些文件在 Webpack 的思想中都属于当前项目中的一个模块。Webpack 可以通过打包，将它们最终聚集到一起。Webpack 在整个打包的过程中：

   1. 通过 Loader 处理特殊类型资源的加载，例如加载样式、图片；
   1. 通过 Plugin 实现各种自动化的构建任务，例如自动压缩、自动发布。
      具体来看打包的过程，
   1. Webpack 启动后，会根据我们的配置，找到项目中的某个指定文件（一般这个文件都会是一个 JS 文件）作为入口。然后顺着入口文件中的代码，根据代码中出现的 import（ES Modules）或者是 require（CommonJS）之类的语句，解析推断出来这个文件所依赖的资源模块，然后再分别去解析每个资源模块的依赖，周而复始，最后形成整个项目中所有用到的文件之间的依赖关系树
   1. 有了这个依赖关系树过后， Webpack 会遍历（递归）这个依赖树，找到每个节点对应的资源文件，然后根据配置选项中的 Loader 配置，交给对应的 Loader 去加载这个模块，最后将加载的结果放入 bundle.js（打包结果）中，从而实现整个项目的打包
   1. 至于自定义插件机制，它并不会影响 Webpack 的核心工作过程，只是 Webpack 为了提供一个强大的扩展能力，它为整个工作过程的每个环节都预制了一个钩子，也就是说我们可以通过插件往 Webpack 工作过程的任意环节植入一些自定义的任务，从而扩展 Webpack 打包功能以外的能力

2. 核心工作环节
   1. Webpack CLI 启动打包流程；
      Webpack CLI 的作用就是将 CLI 参数和 Webpack 配置文件中的配置整合，得到一个完整的配置对象。所谓 CLI 参数指的就是我们在运行 webpack 命令时通过命令行传入的参数
   2. 载入 Webpack 核心模块，创建 Compiler 对象；
   3. 使用 Compiler 对象开始编译整个项目；
   4. 从入口文件开始，解析模块依赖，形成依赖关系树；
   5. 递归依赖树，将每个模块交给对应的 Loader 处理；
   6. 合并 Loader 处理完的结果，将打包结果输出到 dist 目录。
