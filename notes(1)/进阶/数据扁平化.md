### 基础递归

```js
const data = [1, [2, 3, [4, 5]]];
// 递归
function flatten1(arr) {
  let res = [];
  arr.forEach((item) => {
    if (Array.isArray(item)) {
      res = res.concat(flatten1(item));
    } else {
      res.push(item);
    }
  });
  return res;
}
// reduce
function flatten2(arr) {
  return arr.reduce((prev, item) => {
    return prev.concat(Array.isArray(item) ? flatten2(item) : item);
  }, []);
}
```

### split 和 toString 共同处理

```js
var arr = [1, [2, [3, 4]]];
function flatten(arr) {
  return arr.toString().split(",");
}
console.log(flatten(arr)); //  [1, 2, 3, 4]
```

### es6 arr.flat 方法

arr.flat([depth])

其中 depth 是 flat 的参数，depth 是可以传递数组的展开深度（默认不填、数值是 1），即展开一层数组。那么如果多层的该怎么处理呢？参数也可以传进 Infinity，代表不论多少层都要展开。

```js
var arr = [1, [2, [3, 4]]];
function flatten(arr) {
  return arr.flat(Infinity);
}
console.log(flatten(arr)); //  [1, 2, 3, 4，5]
```
