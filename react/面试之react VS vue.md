[](https://juejin.cn/post/6844903974437388295#heading-5)
https://blog.csdn.net/xgangzai/article/details/115301290
## 设计思想

> vue 的官网中说它是一款**渐进式框架，采用自底向上增量开发**的设计。这里我们需要明确一个概念，什么是渐进式框架。在声明式渲染（视图模板引擎）的基础上，我们可以通过添加组件系统（components）、客户端路由（vue-router）、大规模状态管理（vuex）来构建一个完整的框架。Vue 从设计角度来讲，虽然能够涵盖所有这些内容，但是你并不需要一上手就把所有东西全用上，因为没有必要。无论从学习角度，还是实际情况，这都是可选的。**声明式渲染和组建系统是 Vue 的核心库所包含内容，而客户端路由、状态管理、构建工具都有专门解决方案。这些解决方案相互独立，你可以在核心的基础上任意选用其他的部件，不一定要全部整合在一起**。可以看到，所说的“渐进式”，其实就是 Vue 的使用方式，同时也体现了 Vue 的设计的理念。

1. react 主张**函数式编程，所以推崇纯组件，数据不可变，单向数据流，当然需要双向的地方也可以手动实现**，比如借助 onChange 和 setState 来实现一个双向的数据流。
2. 而 vue 是基于**可变数据的，支持双向绑定**，它提供了 v-model 这样的指令来实现文本框的数据流双向绑定。

## 编写语法

1. vue 推荐的做法是**webpack+vue-loader 的单文件组件格式，vue 保留了 html、css、js 分离的写法，使得现有的前端开发者在开发的时候能保持原有的习惯，更接近常用的 web 开发方式**，模板就是普通的 html，数据绑定使用 mustache 风格，样式直接使用 css。其中<style>标签还提供了一个可选的 scoped 属性，它会为组件内 CSS 指定作用域，用它来控制仅对当前组件有效还是全局生效。
   模板和 JSX 是各有利弊的东西。模板更贴近我们的 HTML，可以让我们更直观地思考语义结构，更好地结合 CSS 的书写。
   **同时 vue 也支持 JSX 语法**，因为是真正的 JavaScript，拥有这个语言本身的所有的能力，可以进行复杂的逻辑判断，进行选择性的返回最终要返回的 DOM 结构，能够实现一些在模板的语法限制下，很难做到的一些事情。

2. 用过 react 的开发者可能知道，**react 是没有模板的，直接就是一个渲染函数，它中间返回的就是一个虚拟 DOM 树，React 推荐的做法是 JSX + inline style, 也就是把 HTML 和 CSS 全都写进 JavaScript 了,即'all in js'。JSX 实际就是一套使用 XML 语法，用于让我们更简单地去描述树状结构的语法糖。**在 react 中，所有的组件的渲染功能都依靠 JSX。你可以在 render()中编写类似 XML 的语法，它最终会被编译成原生 JavaScript。不仅仅是 HTML 可以用 JSX 来表达，现在的潮流也越来越多地将 CSS 也纳入到 JavaScript 中来处理。JSX 是基于 JS 之上的一套额外语法，学习使用起来有一定的成本。

## 构建工具

1. vue 提供了 CLI 脚手架，可以帮助你非常容易地构建项目。全局安装之后，我们就可以用 vue create 命令创建一个新的项目，vue 的 CLI 跟其他 CLI 不同之处在于，有多个可选模板，有简单的也有复杂的，可以让用户自定义选择需要安装的模块，还可以将你的选择保存成模板，便于后续使用。
极简的配置，更快的安装，可以更快的上手。它也有一个更完整的模板，包括单元测试在内的各种内容都涵盖，但是，它的复杂度也更高，这又涉及到根据用例来选择恰当复杂度的问题。
2. React 在这方面也提供了 create-react-app，但是现在还存在一些局限性：
它不允许在项目生成时进行任何配置，而 Vue CLI 运行于可升级的运行时依赖之上，该运行时可以通过插件进行扩展。
**它只提供一个构建单页面应用的默认选项，而 Vue 提供了各种用途的模板**。
它不能用用户自建的预设配置构建项目，这对企业环境下预先建立约定是特别有用的。

而要注意的是这些限制是故意设计的，这有它的优势。例如，如果你的项目需求非常简单，你就不需要自定义生成过程。你能把它作为一个依赖来更新。

## 数据绑定

1. vue是实现了双向数据绑定的mvvm框架，当视图改变更新模型层，当模型层改变更新视图层。在vue中，使用了双向绑定技术，就是View的变化能实时让Model发生变化，而Model的变化也能实时更新到View。
Vue采用**数据劫持&发布-订阅模式**的方式，vue在创建vm的时候，会将数据配置在实例当中，然后通过Object.defineProperty对数据进行操作，为数据动态添加了getter与setter方法，当获取数据的时候会触发对应的getter方法，当设置数据的时候会触发对应的setter方法，从而进一步触发vm的watcher方法，然后数据更改，vm则会进一步触发视图更新操作。
2. React基于状态机，手动优化，数据不可变，需要setState驱动新的state替换老的state。当数据改变时，以组件为根目录，默认全部重新渲染, 所以 React 中会需要 shouldComponentUpdate 这个生命周期函数方法来进行控制。**react是单向数据流，react中属性是不允许更改的，状态是允许更改的。react中组件不允许通过this.state这种方式直接更改组件的状态。自身设置的状态，可以通过setState来进行更改**。在setState中，传入一个对象，就会将组件的状态中键值对的部分更改，还可以传入一个函数，这个回调函数必须向上面方式一样的一个对象函数可以接受prevState和props。通过调用this.setState去更新this.state,不能直接操作this.state，请把它当成不可变的。
调用setState更新this.state，它不是马上就会生效的，它是**异步**的。所以不要认为调用完setState后可以立马获取到最新的值。**多个顺序执行的setState不是同步的一个接着一个的执行，会加入一个异步队列，然后最后一起执行，即批处理**。
setState是异步的，导致获取dom可能拿的还是之前的内容，所以我们需要在setState第二个参数（回调函数）中获取更新后的新的内容。


> ### Vue 和 React 对比

这里就做几个简单的类比吧，当然没有好坏之分，只是使用场景不同

#### 相同点

1. 都有组件化思想
2. 都支持服务器端渲染
3. 都有 Virtual DOM（虚拟 dom）
4. MVVM 模型
5. 都有支持 native 的方案：Vue 的 weex、React 的 React native
6. 都有自己的构建工具：Vue 的 vue-cli、React 的 Create React App

#### 区别

1.  数据变化的实现原理不同。react 使用的是不可变数据，而 Vue 使用的是可变的数据
2.  组件化通信的不同。react 中我们通过使用回调函数来进行通信的，而 Vue 中子组件向父组件传递消息有两种方式：事件和回调函数
3.  diff 算法不同。react 主要使用 diff 队列保存需要更新哪些 DOM，得到 patch 树，再统一操作批量更新 DOM。Vue 使用双向指针，边对比，边更新 DOM
