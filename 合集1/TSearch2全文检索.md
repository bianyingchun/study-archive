全文检索一般有三个步骤：
  1.对文档进行预处理，到到处理后的结果，创建索引。
  2.解析查询结果，使用索引进行查询
  3.得到查询结果，对结果进行处理后返回
数据类型：
  tsvetor：用于存储预处理后的文档
    是一种可搜索的数据类型，是文档内容的一种表现形式，是出现在文档中的每个重要单词及其所有位置信息的集合
    typedef struct{
      int32       vl_len, 
      int32       size, //关键词的个数（wordEntry数组的长度）
      wordEntry   entries[1]//关键词的信息（用于保存所有单词信息）
    } TSVectorData
    typedef TSVectorData * TSVector

  tsquery：用于查询以及查询结果的处理

1.全文索引的创建
  全文索引允许对文档进行预处理并且可以保存为用于快速搜索的索引，预处理包括文本解析，语义分析和词位存储。完成这三个步骤后，解析后的词语信息就存放在TSVector结构中。
  1.文本解析
    通过解析器将文档解析成一个个记号（含位置信息，类型信息）

  2.语义分析
    对解析器处理过的token文本序列通过参照词典的审核规范成标准的词（lexeme）信息
    词典用于删除那些不应该在搜索中出现的词（屏蔽词）并规范成一些有多重形式的词，这样同一个词的不同衍生结果也可以搜索到。成功规范后的词被称为词位 (lexeme). 
    除了改进搜索质量，规范化和删除屏蔽词可以减少文档的尺寸，从而提高性能。

    完成语义分析后，即得到一个全部处理后得到的单词信息，保存在ParsedText结构中。
    语义分析流程：
      1.读取系统配置，并根据系统的配置获取相应的解析器及字典
      2.读取要解析的文档，开始进行解析
      3.解析获取一个token单词，包括单词长度、单词信息、单词的类型Type(文本解析)
      4.判断类型合法和单词长度过长，
      5.如果满足4则对token单词调用字典进行处理（语义分析），如果不满足4则直接到7
      6.若解析后的单词不为空，则将词信息存放到parsedText结构中
      7.判断Type类型是否合法，如果合法则结束否则转到3继续解析。

  3.词位存储
    归总语义分析后的单词在文档中的位置，并且将其出现的次数及每个位置存储下来。
    TSvectorData(TSvector类型) 中 的wordEntry
      typedef{
        uint32 
            haspos:1, //标记是否出现多次
            len:11,   //记录单词的长度，最长2k
            pos:20    //记录单词所在的位置，最大1M
      }
    流程：
      1.将parsedText中相同单词的出现位置合并，
      2.取出单词word将该单词的信息拷贝到 TSvectorData.entries中，
      3.标记haspos
      4.继续处理下一个单词,直到parsedText处理完毕。

  最后对词位列创建GIN即可实现对文档的全文索引。

2.查询结果处理
  对TSVector（或处理后的tsquery）结构中的entry进行比较，返回匹配成功的结果
3.设置文档部分的权重
4.对查询结果排序
  将匹配成功的搜索结果与查询表达式进行相关性比较，将最相关的结果排在前面
5.高亮显示
  